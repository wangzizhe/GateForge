{
  "version": "0.1.0",
  "critical_reason_prefixes": [
    "candidate_status_not_success",
    "candidate_gate_not_pass",
    "check_regression",
    "simulate_regression",
    "strict_",
    "proposal_",
    "nan_inf_detected",
    "timeout_detected",
    "event_explosion_detected"
  ],
  "needs_review_reason_prefixes": [
    "runtime_regression",
    "performance_regression_detected",
    "steady_state_regression_detected",
    "change_requires_human_review"
  ],
  "always_needs_review_reason_prefixes": [
    "change_requires_human_review"
  ],
  "allow_auto_apply_risk_levels": [
    "low",
    "medium"
  ],
  "change_set_allowed_roots": [
    "examples/openmodelica"
  ],
  "change_set_max_changes": 20,
  "fail_on_needs_review_risk_levels": [
    "high"
  ],
  "fail_on_unknown_reasons": true,
  "dry_run_human_checks": {
    "base": [
      "Confirm proposal backend/model_script mapping before execution.",
      "Review baseline selection strategy (auto/index or explicit path)."
    ],
    "medium_extra": [
      "Confirm regression thresholds and checker_config reflect intended risk posture."
    ],
    "high_extra": [
      "Pre-approve rollback path if gate returns FAIL after candidate execution."
    ],
    "changeset_extra": [
      "Review change-set diff against target files before execution."
    ]
  },
  "required_human_checks": {
    "by_reason_prefix": {
      "runtime_regression": [
        "Review runtime trend and confirm the regression is acceptable for this change.",
        "Compare baseline/candidate evidence and attach justification before merge."
      ],
      "performance_regression_detected": [
        "Review performance checker finding and confirm configured max_ratio is still acceptable.",
        "Compare runtime and solver settings to determine if slowdown is intentional."
      ],
      "steady_state_regression_detected": [
        "Inspect steady-state behavior shift and verify controller/system objectives remain satisfied.",
        "Review steady_state_regression threshold and justify acceptance before merge."
      ],
      "event_explosion_detected": [
        "Inspect event count growth and verify hybrid/event behavior remains physically meaningful.",
        "Review event-related checker thresholds before approving this change."
      ],
      "nan_inf_detected": [
        "Inspect NaN/Inf source and verify numerical stability before merge."
      ],
      "timeout_detected": [
        "Investigate timeout root cause and confirm expected run-time envelope."
      ],
      "proposal_backend_mismatch": [
        "Verify proposal target, baseline mapping, and candidate model_script/backend alignment."
      ],
      "proposal_model_script_mismatch": [
        "Verify proposal target, baseline mapping, and candidate model_script/backend alignment."
      ],
      "candidate_gate_not_pass": [
        "Inspect candidate failure_type and log_excerpt, then classify root cause."
      ],
      "change_apply_failed": [
        "Inspect change_set_path and confirm each replace_text old/new fragment matches target files.",
        "Regenerate or fix the change_set, then rerun proposal before merge."
      ],
      "change_preflight_failed": [
        "Inspect change-set target scope and file paths; ensure all changes stay inside approved roots.",
        "Fix preflight violations and rerun before merge."
      ],
      "change_requires_human_review": [
        "This risk level is not auto-apply eligible. Perform manual review and explicit approval.",
        "After approval, rerun with a policy/profile that allows this operation."
      ]
    },
    "by_failure_type": {
      "docker_error": [
        "Fix Docker backend availability before rerunning this proposal."
      ]
    },
    "fallback": [
      "Human review required: inspect policy_reasons and evidence artifacts before merge."
    ]
  }
}
